{"ast":null,"code":"var _jsxFileName = \"/Users/alexkulemin/Documents/projects/bem-library/react-components/src/template/components/Code.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport Prism from 'prismjs';\nexport const Code = props => {\n  const areaElem = useRef(null);\n  const [isActive, setIsActive] = useState(false);\n  const [animClass, setAnimClass] = useState(false);\n  useEffect(_ => {\n    Prism.highlightAll();\n  });\n  const handleCopy = () => {\n    areaElem.current.value = props.children;\n    areaElem.current.select();\n    document.execCommand('copy');\n    setIsActive(true);\n    const anim = setTimeout(_ => {\n      setAnimClass(true);\n    }, 200);\n    const timeout = setTimeout(_ => {\n      setIsActive(false);\n      setAnimClass(false);\n      clearTimeout(timeout);\n      clearTimeout(anim);\n    }, 1400);\n  };\n  return /*#__PURE__*/React.createElement(\"pre\", {\n    className: \"code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"code\", {\n    className: \"language-javascript\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, props.children), /*#__PURE__*/React.createElement(\"textarea\", {\n    ref: areaElem,\n    className: \"code__area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"code__copy\",\n    onClick: handleCopy,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, \"Copy code\"), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      display: isActive ? 'block' : 'none'\n    },\n    className: `code__message ${animClass ? 'code__message_active' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, \"copied to clipboard\"));\n};","map":{"version":3,"names":["React","useState","useEffect","useRef","Prism","Code","props","areaElem","isActive","setIsActive","animClass","setAnimClass","_","highlightAll","handleCopy","current","value","children","select","document","execCommand","anim","setTimeout","timeout","clearTimeout","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","ref","onClick","style","display"],"sources":["/Users/alexkulemin/Documents/projects/bem-library/react-components/src/template/components/Code.js"],"sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\nimport Prism from 'prismjs';\n\nexport const Code = (props) => {\n    const areaElem = useRef(null);\n\n    const [isActive, setIsActive] = useState(false);\n    const [animClass, setAnimClass] = useState(false);\n\n    useEffect(_ => {\n        Prism.highlightAll();\n    })\n\n    const handleCopy = () => {\n        areaElem.current.value = props.children;\n        areaElem.current.select();\n        document.execCommand('copy');\n        setIsActive(true);\n        \n        const anim = setTimeout(_=> {\n            setAnimClass(true);\n        }, 200);\n\n        const timeout = setTimeout(_ => {\n            setIsActive(false);\n            setAnimClass(false);\n            clearTimeout(timeout);\n            clearTimeout(anim);\n        }, 1400);\n    }\n\n    return(\n        <pre className=\"code\">\n            <code className=\"language-javascript\">\n                {props.children}\n            </code>\n            <textarea ref={areaElem} className=\"code__area\"></textarea>\n            <button className=\"code__copy\" onClick={handleCopy}>Copy code</button>\n            <span style={{display: isActive ? 'block':'none'}} className={`code__message ${animClass ? 'code__message_active':''}`}>copied to clipboard</span>\n        </pre> \n    )\n}\n\n"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAO,OAAO;AACxD,OAAOC,KAAK,MAAM,SAAS;AAE3B,OAAO,MAAMC,IAAI,GAAIC,KAAK,IAAK;EAC3B,MAAMC,QAAQ,GAAGJ,MAAM,CAAC,IAAI,CAAC;EAE7B,MAAM,CAACK,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACS,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAEjDC,SAAS,CAACU,CAAC,IAAI;IACXR,KAAK,CAACS,YAAY,EAAE;EACxB,CAAC,CAAC;EAEF,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACrBP,QAAQ,CAACQ,OAAO,CAACC,KAAK,GAAGV,KAAK,CAACW,QAAQ;IACvCV,QAAQ,CAACQ,OAAO,CAACG,MAAM,EAAE;IACzBC,QAAQ,CAACC,WAAW,CAAC,MAAM,CAAC;IAC5BX,WAAW,CAAC,IAAI,CAAC;IAEjB,MAAMY,IAAI,GAAGC,UAAU,CAACV,CAAC,IAAG;MACxBD,YAAY,CAAC,IAAI,CAAC;IACtB,CAAC,EAAE,GAAG,CAAC;IAEP,MAAMY,OAAO,GAAGD,UAAU,CAACV,CAAC,IAAI;MAC5BH,WAAW,CAAC,KAAK,CAAC;MAClBE,YAAY,CAAC,KAAK,CAAC;MACnBa,YAAY,CAACD,OAAO,CAAC;MACrBC,YAAY,CAACH,IAAI,CAAC;IACtB,CAAC,EAAE,IAAI,CAAC;EACZ,CAAC;EAED,oBACIrB,KAAA,CAAAyB,aAAA;IAAKC,SAAS,EAAC,MAAM;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACjBhC,KAAA,CAAAyB,aAAA;IAAMC,SAAS,EAAC,qBAAqB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAChC1B,KAAK,CAACW,QAAQ,CACZ,eACPjB,KAAA,CAAAyB,aAAA;IAAUQ,GAAG,EAAE1B,QAAS;IAACmB,SAAS,EAAC,YAAY;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAY,eAC3DhC,KAAA,CAAAyB,aAAA;IAAQC,SAAS,EAAC,YAAY;IAACQ,OAAO,EAAEpB,UAAW;IAAAa,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,WAAS,CAAS,eACtEhC,KAAA,CAAAyB,aAAA;IAAMU,KAAK,EAAE;MAACC,OAAO,EAAE5B,QAAQ,GAAG,OAAO,GAAC;IAAM,CAAE;IAACkB,SAAS,EAAG,iBAAgBhB,SAAS,GAAG,sBAAsB,GAAC,EAAG,EAAE;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,qBAAmB,CAAO,CAChJ;AAEd,CAAC"},"metadata":{},"sourceType":"module"}