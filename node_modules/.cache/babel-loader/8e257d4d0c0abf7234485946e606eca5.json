{"ast":null,"code":"var _jsxFileName = \"/Users/alexkulemin/Documents/projects/bem-library/react-components/src/ui/components/Slider/index.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport styles from './Slider.module.scss';\nconst Slider = props => {\n  const [value, setValue] = useState(props.defaultValue || 0);\n  const [pointL, setPointL] = useState(null);\n  const [pointR, setPointR] = useState(null);\n  const ballElemLeft = useRef(null);\n  const ballElemRight = useRef(null);\n  const sliderElem = useRef(null);\n  const lineElem = useRef(null);\n  let point = 0;\n  const min = props.min || 0;\n  const max = props.max || 100;\n  const txt = props.defaultText || 'Value';\n  const isShowText = props.isHideText ? false : true;\n  const step = 100 / (max - min);\n  const [controlL, setControlL] = useState(props.range ? (props.defaultValue[0] - min) * 100 / (max - min) : (props.defaultValue - min) * 100 / (max - min) || 0);\n  const [controlR, setControlR] = useState(props.range && (props.defaultValue[1] - min) * 100 / (max - min));\n  useEffect(_ => {\n    setPointL(ballElemLeft.current.getBoundingClientRect().left);\n    if (props.range) {\n      setPointR(ballElemRight.current.getBoundingClientRect().left);\n    }\n  }, [props.range, controlL, controlR]);\n  useEffect(_ => {\n    if (!!props.onChange) {\n      props.onChange(value);\n    }\n  }, [value, props]);\n  const onMouseMove = e => {\n    const positionClick = e.type === 'touchmove' ? e.touches[0].clientX : e.clientX;\n    if (props.range && pointR - point < point - pointL) {\n      const val = positionClick - pointR - 9;\n      const widthSlider = sliderElem.current.clientWidth;\n      const x = 100 * val / widthSlider;\n      if (controlR + x - step > controlL) {\n        const z = controlR + x < 100 ? controlR + x : 100;\n        setControlR(z);\n        const newVal = (controlR + x) / step + min < max ? (controlR + x) / step + min : max;\n        setValue([Math.round(controlL / step + min), Math.round(newVal)]);\n      }\n    } else {\n      const val = positionClick - pointL - 9;\n      const widthSlider = sliderElem.current.clientWidth;\n      const x = 100 * val / widthSlider;\n      if (controlL + x + step < controlR || !props.range) {\n        const z = controlL + x;\n        const newControlLVal = z > 0 && z < 100 ? controlL + x : z < 0 ? 0 : 100;\n        setControlL(newControlLVal);\n        const s = (controlL + x) / step + min;\n        const newValue = s > min && s < max ? s : s <= min ? min : max;\n        const newMinVal = Math.round((controlL + x) / step + min) > min ? Math.round((controlL + x) / step + min) : min;\n        const newMaxVal = Math.round(controlR / step + min < max ? controlR / step + min : max);\n        const newRangeValue = [newMinVal, newMaxVal];\n        setValue(props.range ? newRangeValue : Math.round(newValue));\n      }\n    }\n  };\n  const handleSlide = e => {\n    const mobEvent = e.type === 'touchstart';\n    const initPos = mobEvent ? e.touches[0].clientX : e.clientX;\n    point = initPos;\n    if (e.target !== ballElemLeft.current && e.target !== ballElemRight.current) {\n      const slider = sliderElem.current;\n      const widthSlider = slider.clientWidth;\n      const position = Math.abs(100 * (initPos - slider.getBoundingClientRect().left) / widthSlider);\n      if (props.range && controlR - position < position - controlL) {\n        setControlR(position);\n        const newMin = Math.round(controlL * (max - min) / 100 + min);\n        const newMax = Math.round(position * (max - min) / 100 + min);\n        setValue([newMin, newMax]);\n      } else {\n        setControlL(position);\n        const newMin = Math.round(position * (max - min) / 100 + min);\n        const newMax = Math.round(controlR * (max - min) / 100 + min);\n        const newVal = props.range ? [newMin, newMax] : newMin;\n        setValue(newVal);\n      }\n    }\n    if (!mobEvent) {\n      document.addEventListener('mousemove', onMouseMove);\n      document.addEventListener('mouseup', _ => {\n        document.removeEventListener('mousemove', onMouseMove);\n      });\n    } else {\n      document.addEventListener('touchmove', onMouseMove);\n      document.addEventListener('touchend', _ => {\n        document.removeEventListener('touchmove', onMouseMove);\n      });\n    }\n  };\n  const handleMinChange = e => {\n    const val = e.target.value;\n    setValue(!props.range ? val : [val, value[1]]);\n  };\n  const handleMaxChange = e => {\n    const val = e.target.value;\n    setValue([value[0], val]);\n  };\n  const handleMinBlur = e => {\n    const newVal = parseInt(e.target.value) >= min && parseInt(e.target.value) <= max ? parseInt(e.target.value) : parseInt(e.target.value) < min ? min : max;\n    const newPos = newVal >= controlR ? controlR - 1 : newVal;\n    setValue(!props.range ? newVal : [Math.round(newPos), Math.round(controlR)]);\n    setControlL((newPos - min) * step);\n  };\n  const handleMaxBlur = e => {\n    const val = parseInt(e.target.value);\n    const newVal = val > controlL && val <= max ? val : val <= controlL ? controlL + 1 : max;\n    setValue([value[0], Math.round(newVal)]);\n    setControlR((newVal - min) * step);\n  };\n  const enterValue = (e, cn) => {\n    if (e.key === 'Enter') {\n      cn === 'MIN' ? handleMinBlur(e) : handleMaxBlur(e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"range-slider__wrap\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"range-slider__title\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, isShowText ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, txt, \":\"), !props.range ? /*#__PURE__*/React.createElement(\"input\", {\n    className: styles[\"range-slider__input\"],\n    type: \"number\",\n    value: value,\n    onChange: handleMinChange,\n    onBlur: handleMinBlur,\n    onKeyPress: e => enterValue(e, 'MIN'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"input\", {\n    className: styles[\"range-slider__input\"],\n    type: \"number\",\n    value: value[0],\n    onChange: handleMinChange,\n    onBlur: handleMinBlur,\n    onKeyPress: e => enterValue(e, 'MIN'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  }), \"\\u2013\", /*#__PURE__*/React.createElement(\"input\", {\n    className: styles[\"range-slider__input\"],\n    type: \"number\",\n    value: value[1],\n    onChange: handleMaxChange,\n    onBlur: handleMaxBlur,\n    onKeyPress: e => enterValue(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }))) : null), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"range-slider\"],\n    ref: sliderElem,\n    onMouseDown: handleSlide,\n    onTouchStart: handleSlide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: `${styles[\"range-slider__control\"]} ${styles[\"range-slider__control_left\"]}`,\n    style: {\n      left: `${controlL}%`\n    },\n    ref: ballElemLeft,\n    \"data-value\": props.range ? value[0] : value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    ref: lineElem,\n    className: styles[\"range-slider__line\"],\n    style: {\n      left: `${props.range ? controlL : 0}%`,\n      right: `${props.range ? 100 - controlR > 0 ? 100 - controlR : 0 : 100 - controlL}%`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 17\n    }\n  }), props.range ? /*#__PURE__*/React.createElement(\"span\", {\n    className: `${styles[\"range-slider__control\"]} ${styles[\"range-slider__control_right\"]}`,\n    style: {\n      left: `${controlR}%`\n    },\n    ref: ballElemRight,\n    \"data-value\": value[1],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }) : null), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"range-slider__score\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles[\"range-slider__score-item\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 17\n    }\n  }, min), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles[\"range-slider__score-item\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles[\"range-slider__score-item\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 17\n    }\n  }, (max + min) / 2), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles[\"range-slider__score-item\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles[\"range-slider__score-item\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 17\n    }\n  }, max)));\n};\nexport default Slider;","map":{"version":3,"names":["React","useState","useEffect","useRef","styles","Slider","props","value","setValue","defaultValue","pointL","setPointL","pointR","setPointR","ballElemLeft","ballElemRight","sliderElem","lineElem","point","min","max","txt","defaultText","isShowText","isHideText","step","controlL","setControlL","range","controlR","setControlR","_","current","getBoundingClientRect","left","onChange","onMouseMove","e","positionClick","type","touches","clientX","val","widthSlider","clientWidth","x","z","newVal","Math","round","newControlLVal","s","newValue","newMinVal","newMaxVal","newRangeValue","handleSlide","mobEvent","initPos","target","slider","position","abs","newMin","newMax","document","addEventListener","removeEventListener","handleMinChange","handleMaxChange","handleMinBlur","parseInt","newPos","handleMaxBlur","enterValue","cn","key","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","onBlur","onKeyPress","ref","onMouseDown","onTouchStart","style","right"],"sources":["/Users/alexkulemin/Documents/projects/bem-library/react-components/src/ui/components/Slider/index.js"],"sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\nimport styles from './Slider.module.scss';\n\nconst Slider = (props) => {\n    const [value, setValue] = useState(props.defaultValue || 0);\n    const [pointL, setPointL] = useState(null);\n    const [pointR, setPointR] = useState(null);\n\n    const ballElemLeft = useRef(null);\n    const ballElemRight = useRef(null);\n    const sliderElem = useRef(null)\n    const lineElem = useRef(null)\n\n    let point = 0;\n    const min = props.min || 0;\n    const max = props.max || 100;\n    const txt = props.defaultText || 'Value'\n    const isShowText = props.isHideText ? false : true;\n\n    const step = 100 / (max - min);\n    const [controlL, setControlL] = useState(props.range ? (props.defaultValue[0] - min) * 100 / (max - min) : (props.defaultValue - min) * 100 / (max - min) || 0);\n    const [controlR, setControlR] = useState(props.range && (props.defaultValue[1] - min) * 100 / (max - min));\n    \n\n    useEffect(_=> {\n        setPointL(ballElemLeft.current.getBoundingClientRect().left);\n        if(props.range) {\n            setPointR(ballElemRight.current.getBoundingClientRect().left);\n        }\n    }, [props.range, controlL, controlR])\n    \n    useEffect(_=> {\n        if(!!props.onChange) {\n            props.onChange(value)\n        }\n    }, [value, props])\n\n    const onMouseMove = (e) => {\n        const positionClick = e.type === 'touchmove' ? e.touches[0].clientX : e.clientX;\n\n        if(props.range && (pointR - point < point - pointL)) {\n            const val = positionClick - pointR - 9;\n            const widthSlider = sliderElem.current.clientWidth;\n            const x = (100 * val / widthSlider);\n            \n            if(controlR + x - step > controlL) {\n                const z = controlR + x < 100 ? controlR + x : 100;\n                setControlR(z);\n                \n                const newVal = (controlR + x) / step + min < max ? (controlR + x) / step + min : max;\n                setValue([Math.round(controlL / step + min), Math.round(newVal)]);\n            }\n            \n        } else {\n            const val = positionClick - pointL - 9;\n            const widthSlider = sliderElem.current.clientWidth;\n            const x = (100 * val / widthSlider);\n\n            if(controlL + x + step < controlR || !props.range) {\n                const z = controlL + x;\n                const newControlLVal = z > 0 && z < 100 ? controlL + x : z < 0 ? 0 : 100;\n                setControlL(newControlLVal);\n\n                const s = (controlL + x) / step + min;\n                const newValue = s > min && s < max ? s : s <= min ? min : max;\n\n                const newMinVal = Math.round((controlL + x) / step + min) > min ? Math.round((controlL + x) / step + min) : min;\n                const newMaxVal = Math.round(controlR / step + min < max ? controlR / step + min: max);\n                const newRangeValue = [newMinVal, newMaxVal];\n\n                setValue(props.range ? newRangeValue : Math.round(newValue));\n            }\n        }\n    }\n\n    const handleSlide = (e) => {\n        const mobEvent = e.type === 'touchstart'; \n        const initPos = mobEvent ? e.touches[0].clientX : e.clientX;\n        point = initPos;\n        if(e.target !== ballElemLeft.current && e.target !== ballElemRight.current) {\n            const slider = sliderElem.current;\n            const widthSlider = slider.clientWidth;\n            const position = Math.abs(100 * (initPos - slider.getBoundingClientRect().left) / widthSlider);\n\n            if(props.range && (controlR - position < position - controlL)) {\n                setControlR(position);\n                const newMin = Math.round(controlL * (max - min) / 100 + min );\n                const newMax = Math.round(position * (max - min) / 100 + min );\n                setValue([newMin, newMax]);\n            } else {\n                setControlL(position);\n                const newMin = Math.round(position * (max - min) / 100 + min );\n                const newMax = Math.round(controlR * (max - min) / 100 + min );\n                const newVal = props.range ? [newMin, newMax] : newMin;\n                setValue(newVal);\n            }\n        } \n        \n        \n        if(!mobEvent) {\n            document.addEventListener('mousemove', onMouseMove)\n            document.addEventListener('mouseup', _ => {\n                document.removeEventListener('mousemove', onMouseMove)\n            })\n        } else {\n            document.addEventListener('touchmove', onMouseMove)\n            document.addEventListener('touchend', _=> {\n                document.removeEventListener('touchmove', onMouseMove)\n            })\n        }\n    }\n\n    const handleMinChange = e => {\n        const val = e.target.value;\n        setValue(!props.range ? val : [val, value[1]]);        \n    }\n\n    const handleMaxChange = e => {\n        const val = e.target.value;\n        setValue([value[0], val])\n    }\n\n    const handleMinBlur = e => {\n        const newVal = parseInt(e.target.value) >= min && parseInt(e.target.value) <= max ? parseInt(e.target.value) : parseInt(e.target.value) < min ? min : max;\n        const newPos = newVal >= controlR ? controlR - 1 : newVal;\n        setValue(!props.range ? newVal: [Math.round(newPos), Math.round(controlR)]);\n        setControlL((newPos - min) * step);\n    }\n\n    const handleMaxBlur = e => {\n        const val = parseInt(e.target.value);\n        const newVal = val > controlL && val <= max ? val : val <= controlL ? controlL + 1 : max;\n        setValue([value[0], Math.round(newVal)]);\n        setControlR((newVal - min) * step);\n    }\n\n    const enterValue = (e, cn) => {\n        if(e.key === 'Enter'){\n            cn === 'MIN' ?\n            handleMinBlur(e):\n            handleMaxBlur(e)\n        } \n    }\n\n    return ( \n        <div className={styles[\"range-slider__wrap\"]}>\n            \n            <div className={styles[\"range-slider__title\"]}>\n                {isShowText ? <>\n                <span>{txt}:</span>{!props.range ? \n                    <input className={styles[\"range-slider__input\"]} type=\"number\" value={value} onChange={handleMinChange} onBlur={handleMinBlur} onKeyPress={e => enterValue(e, 'MIN')} /> : \n                    <>\n                    <input className={styles[\"range-slider__input\"]} type=\"number\" value={value[0]} onChange={handleMinChange} onBlur={handleMinBlur} onKeyPress={e => enterValue(e, 'MIN')} />&ndash;\n                    <input className={styles[\"range-slider__input\"]} type=\"number\" value={value[1]} onChange={handleMaxChange} onBlur={handleMaxBlur} onKeyPress={e => enterValue(e)} />\n                    </>\n                }</> : null}\n            </div> \n            <div className={styles[\"range-slider\"]} ref={sliderElem} onMouseDown={handleSlide} onTouchStart={handleSlide}>\n                <span \n                    className={`${styles[\"range-slider__control\"]} ${styles[\"range-slider__control_left\"]}`} \n                    style={{left: `${controlL}%`}}\n                    ref={ballElemLeft}\n                    data-value={props.range ? value[0] : value}\n                    >\n                </span>\n                \n                <div ref={lineElem} className={styles[\"range-slider__line\"]} style={{left: `${props.range ? controlL : 0}%`, right: `${props.range ? 100 - controlR > 0 ? 100 - controlR : 0 : 100 - controlL}%`}}></div>\n                {props.range ?\n                <span \n                    className={`${styles[\"range-slider__control\"]} ${styles[\"range-slider__control_right\"]}`}\n                    style={{left: `${controlR}%`}}\n                    ref={ballElemRight}\n                    data-value={value[1]}\n                ></span>: null}\n            </div>\n\n            <div className={styles[\"range-slider__score\"]}>\n                <span className={styles[\"range-slider__score-item\"]}>{min}</span>\n                <span className={styles[\"range-slider__score-item\"]}></span>\n                <span className={styles[\"range-slider__score-item\"]}>{(max + min) / 2}</span>\n                <span className={styles[\"range-slider__score-item\"]}></span>\n                <span className={styles[\"range-slider__score-item\"]}>{max}</span>\n            </div>\n        </div>\n     );\n}\n \nexport default Slider;"],"mappings":"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"},"metadata":{},"sourceType":"module"}