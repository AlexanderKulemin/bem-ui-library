{"ast":null,"code":"var _jsxFileName = \"/Users/alexkulemin/Documents/projects/bem-library/react-components/src/ui/components/Input/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport styles from './Input.module.scss';\nimport validation from './Validation';\nexport const Input = props => {\n  const [value, setValue] = useState('');\n  const [error, setError] = useState();\n  const hasValidation = props.validation && props.validation.length;\n  const hasError = !!error && error.length;\n  useEffect(_ => {\n    if (!!props.value) {\n      setValue(props.value);\n    }\n  }, [props.value]);\n  const changeInput = e => {\n    setValue(e.target.value);\n    if (props.onChange) {\n      props.onChange(e);\n    }\n    if (hasValidation) {\n      setError(props.validation.reduce((acc, item) => {\n        return validation(item, e.target.value) ? [...acc, item.message] : acc;\n      }, []));\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `${styles['form-control']} ${value ? styles['form-control_active'] : ''} ${hasError ? styles['form-control_error'] : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"form-control__wrap\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: props.type,\n    className: styles[\"form-control__input\"],\n    defaultValue: value,\n    required: !!props.required,\n    onChange: changeInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: styles[\"form-control__label\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, props.label), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles[\"form-control__line\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }), props.isLoading ? /*#__PURE__*/React.createElement(\"i\", {\n    className: `${styles['form-control__icon']} ${styles['form-control__icon_spinner']} icon-spinner`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }) : null), hasError ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"form-control__message-box\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, error.map(item => /*#__PURE__*/React.createElement(\"div\", {\n    key: Math.random(),\n    className: styles[\"form-control__message\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, item))) : null);\n};","map":{"version":3,"names":["React","useState","useEffect","styles","validation","Input","props","value","setValue","error","setError","hasValidation","length","hasError","_","changeInput","e","target","onChange","reduce","acc","item","message","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","defaultValue","required","label","isLoading","map","key","Math","random"],"sources":["/Users/alexkulemin/Documents/projects/bem-library/react-components/src/ui/components/Input/index.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport styles from './Input.module.scss';\nimport validation from './Validation';\n\nexport const Input = (props) => {\n\n    const [value, setValue] = useState('');\n    const [error, setError] = useState();\n\n    const hasValidation = props.validation && props.validation.length;\n    const hasError = !!error && error.length;\n\n    useEffect(_=> {\n        if(!!props.value) {\n            setValue(props.value)\n        }\n    }, [props.value]);\n\n    const changeInput = (e) => {\n       setValue(e.target.value);\n       \n        if(props.onChange) {\n            props.onChange(e)\n        }\n\n        if(hasValidation) {\n            setError( props.validation.reduce((acc, item) => {\n                return validation(item, e.target.value) ? [...acc, item.message] : acc;\n            }, []))\n        }\n    }\n\n    return(\n        <div className={`${styles['form-control']} ${value ? styles['form-control_active']:''} ${ hasError ? styles['form-control_error'] : ''}`}>\n            <div className={styles[\"form-control__wrap\"]}>\n                <input \n                    type={props.type} \n                    className={styles[\"form-control__input\"]} \n                    defaultValue={value}\n                    required={!!props.required} \n                    onChange={changeInput}\n                />\n                <label className={styles[\"form-control__label\"]}>{props.label}</label>\n                <span className={styles[\"form-control__line\"]}></span>\n                {props.isLoading ?\n                <i className={`${styles['form-control__icon']} ${styles['form-control__icon_spinner']} icon-spinner`}></i> : null}\n            </div>\n            \n            {hasError ?\n                <div className={styles[\"form-control__message-box\"]}>\n                    {error.map(item => (\n                        <div key={Math.random()} className={styles[\"form-control__message\"]}>\n                            {item}\n                        </div>\n                    ))} \n            </div> : null\n            }\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}