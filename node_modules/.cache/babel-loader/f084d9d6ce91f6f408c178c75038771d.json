{"ast":null,"code":"import _toConsumableArray from\"/Users/alexkulemin/Documents/projects/bem-ui-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/alexkulemin/Documents/projects/bem-ui-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Users/alexkulemin/Documents/projects/bem-ui-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"children\",\"defaultActive\",\"direction\",\"mod\"];import React,{useEffect,useRef,useState}from'react';import cn from'classnames';import{useTheme}from'../../../template/hooks';// Tabs mode = v1 || v2 || v3\nvar Tabs=function Tabs(_ref){var children=_ref.children,defaultActive=_ref.defaultActive,_ref$direction=_ref.direction,direction=_ref$direction===void 0?'horizontal':_ref$direction,_ref$mod=_ref.mod,mod=_ref$mod===void 0?'v1':_ref$mod,props=_objectWithoutProperties(_ref,_excluded);var styles=useTheme('Tabs');var _useState=useState(0),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setActive=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),width=_useState4[0],setWidth=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),pos=_useState6[0],setPos=_useState6[1];var tabsEl=useRef(null);useEffect(function(){var startPos=0;if(!!defaultActive){startPos=parseInt(defaultActive-1);setActive(startPos);setPosition(startPos);}setWidth(_toConsumableArray(tabsEl.current.children)[startPos].offsetWidth);},[defaultActive,styles]);function handleClick(index,e){setPosition(index);setWidth(e.target.offsetWidth);setActive(index);}function setPosition(i){var position=_toConsumableArray(tabsEl.current.children).reduce(function(acc,item,index){return index<i?acc+item.offsetWidth:acc;},0);setPos(position);}return/*#__PURE__*/React.createElement(\"div\",{className:cn(styles['tabs'],direction&&styles[\"tabs_direction_\".concat(direction)],mod&&styles[\"tabs_mod_\".concat(mod)])},/*#__PURE__*/React.createElement(\"div\",{className:styles['tabs__header']},/*#__PURE__*/React.createElement(\"ul\",{className:styles['tabs__header-list'],ref:tabsEl},children.map(function(_ref2,index){var title=_ref2.props.title;return/*#__PURE__*/React.createElement(\"li\",{onClick:function onClick(e){return handleClick(index,e);},className:cn(styles['tabs__caption'],index===active&&styles['tabs__caption_active']),key:index},title);})),direction==='horizontal'&&mod==='v1'&&/*#__PURE__*/React.createElement(\"span\",{role:\"presentation\",className:styles['tabs__active-line'],style:{width:width,transform:\"translateX(\".concat(pos,\"px)\")}})),/*#__PURE__*/React.createElement(\"div\",{className:styles['tabs__body']},children.map(function(_ref3,index){var children=_ref3.props.children;return/*#__PURE__*/React.createElement(\"div\",{key:index,className:cn(styles['tabs__body-item'],index===active&&styles['tabs__body-item_active'])},children);})));};export default Tabs;","map":{"version":3,"names":["React","useEffect","useRef","useState","cn","useTheme","Tabs","_ref","children","defaultActive","_ref$direction","direction","_ref$mod","mod","props","_objectWithoutProperties","_excluded","styles","_useState","_useState2","_slicedToArray","active","setActive","_useState3","_useState4","width","setWidth","_useState5","_useState6","pos","setPos","tabsEl","startPos","parseInt","setPosition","_toConsumableArray","current","offsetWidth","handleClick","index","e","target","i","position","reduce","acc","item","createElement","className","concat","ref","map","_ref2","title","onClick","key","role","style","transform","_ref3"],"sources":["/Users/alexkulemin/Documents/projects/bem-ui-library/src/ui/components/Tabs/Tabs.js"],"sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\nimport cn from 'classnames';\nimport {useTheme} from '../../../template/hooks';\n\n// Tabs mode = v1 || v2 || v3\nconst Tabs = ({children, defaultActive, direction = 'horizontal', mod = 'v1', ...props}) => {\n\n  const styles = useTheme('Tabs');\n  const [active, setActive] = useState(0);\n  const [width, setWidth] = useState(0);\n  const [pos, setPos] = useState(0);\n  const tabsEl = useRef(null);\n\n  useEffect(() => {\n    let startPos = 0;\n    if (!!defaultActive) {\n      startPos = parseInt(defaultActive - 1);\n      setActive(startPos);\n      setPosition(startPos)\n    }\n    setWidth([...tabsEl.current.children][startPos].offsetWidth)\n  }, [defaultActive, styles]);\n\n  function handleClick(index, e) {\n    setPosition(index);\n    setWidth(e.target.offsetWidth);\n    setActive(index);\n  }\n\n  function setPosition(i) {\n    const position = [...tabsEl.current.children].reduce((acc, item, index) => {\n      return index < i ? acc + item.offsetWidth : acc;\n    }, 0);\n    setPos(position)\n  }\n\n  return (\n      <div\n          className={cn(\n              styles['tabs'],\n              direction && styles[`tabs_direction_${direction}`],\n              mod && styles[`tabs_mod_${mod}`]\n          )}>\n        <div className={styles['tabs__header']}>\n          <ul className={styles['tabs__header-list']} ref={tabsEl}>\n            {children.map(({props: {title}}, index) =>\n                <li onClick={e => handleClick(index, e)}\n                    className={cn(\n                        styles['tabs__caption'],\n                        index === active && styles['tabs__caption_active']\n                    )}\n                    key={index}>\n                  {title}\n                </li>\n            )}\n          </ul>\n          {(direction === 'horizontal' && mod === 'v1') &&\n          <span\n              role=\"presentation\"\n              className={styles['tabs__active-line']}\n              style={{width: width, transform: `translateX(${pos}px)`}}></span>}\n        </div>\n\n        <div className={styles['tabs__body']}>\n          {children.map(({props: {children}}, index) =>\n              <div key={index}\n                   className={cn(\n                       styles['tabs__body-item'],\n                       index === active && styles['tabs__body-item_active']\n                   )}>\n                {children}\n              </div>\n          )}\n        </div>\n      </div>\n  )\n};\n\nexport default Tabs;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}