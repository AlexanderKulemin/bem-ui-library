{"ast":null,"code":"var _jsxFileName = \"/Users/alexkulemin/Documents/projects/bem-library/react-components/src/ui/components/Tabs/Tabs.js\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport styles from './Tabs.module.scss';\nexport default function Tabs(props) {\n  const children = props.children;\n  const [active, setActive] = useState(0);\n  const [width, setWidth] = useState(0);\n  const [pos, setPos] = useState(0);\n  const tabsEl = useRef(null);\n  useEffect(() => {\n    let startPos = 0;\n    if (!!props.defaultActive) {\n      startPos = parseInt(props.defaultActive - 1);\n      setActive(startPos);\n      setPosition(startPos);\n    }\n    setWidth([...tabsEl.current.children][startPos].offsetWidth);\n  }, [props.defaultActive]);\n  function handleClick(index, e) {\n    setPosition(index);\n    setWidth(e.target.offsetWidth);\n    setActive(index);\n  }\n  function setPosition(i) {\n    const position = [...tabsEl.current.children].reduce((acc, item, index) => {\n      return index < i ? acc + item.offsetWidth : acc;\n    }, 0);\n    setPos(position);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `${styles.tabs} ${props.mode ? styles['tabs_column'] : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['tabs-controls__wrap'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['tabs-controls'],\n    ref: tabsEl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, children.map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n    onClick: e => handleClick(index, e),\n    className: `${styles['tabs-controls__item']} ${index === active ? styles['tabs-controls__item_active'] : ''}`,\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, item.props.title))), !props.mode ? /*#__PURE__*/React.createElement(\"span\", {\n    className: styles['tabs-controls__line'],\n    style: {\n      width: width,\n      transform: `translateX(${pos}px)`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }) : null), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['tabs-content'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, children.map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: `${styles['tabs-content__item']} ${index === active ? styles['tabs-content__item_active'] : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, item.props.children))));\n}","map":{"version":3,"names":["React","useState","useRef","useEffect","styles","Tabs","props","children","active","setActive","width","setWidth","pos","setPos","tabsEl","startPos","defaultActive","parseInt","setPosition","current","offsetWidth","handleClick","index","e","target","i","position","reduce","acc","item","createElement","className","tabs","mode","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","ref","map","onClick","key","title","style","transform"],"sources":["/Users/alexkulemin/Documents/projects/bem-library/react-components/src/ui/components/Tabs/Tabs.js"],"sourcesContent":["import React, {useState, useRef, useEffect} from 'react';\nimport styles from './Tabs.module.scss';\n\nexport default function Tabs(props) {\n    const children = props.children;\n\n    const [active, setActive] = useState(0);\n    const [width, setWidth] = useState(0);\n    const [pos, setPos] = useState(0);\n    const tabsEl = useRef(null);\n\n    useEffect(()=>{\n        let startPos = 0;\n        \n        if(!!props.defaultActive) {\n            startPos = parseInt(props.defaultActive - 1);\n            setActive(startPos);\n\n            setPosition(startPos)\n        }\n\n        setWidth([...tabsEl.current.children][startPos].offsetWidth)\n    }, [props.defaultActive]);\n\n    function handleClick(index, e) {\n        setPosition(index)\n        setWidth(e.target.offsetWidth);\n        setActive(index);\n    }\n\n    function setPosition(i) {\n        const position = [...tabsEl.current.children].reduce((acc, item, index) => {\n            return index < i ? acc + item.offsetWidth : acc;\n        }, 0);\n        setPos(position)\n    }\n\n    return (\n        <div className={`${styles.tabs} ${props.mode ? styles['tabs_column']:''}`}>\n            <div className={styles['tabs-controls__wrap']}>\n                <div className={styles['tabs-controls']} ref={tabsEl}>\n                    {children.map((item, index) => \n                        <div onClick={e => handleClick(index, e)} className={`${styles['tabs-controls__item']} ${index === active ? styles['tabs-controls__item_active']: ''}`} key={index}>\n                            {item.props.title}\n                        </div>\n                    )}\n                </div>\n                {!props.mode?\n                <span className={styles['tabs-controls__line']} style={{width: width, transform: `translateX(${pos}px)`}}></span>:null}\n            </div>\n            <div className={styles['tabs-content']}>\n                {children.map((item, index) => \n                    <div key={index} className={`${styles['tabs-content__item']} ${index === active ? styles['tabs-content__item_active']:''}`}>\n                        {item.props.children}\n                    </div>\n                )}\n            </div>  \n        </div>\n    )\n}"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAO,OAAO;AACxD,OAAOC,MAAM,MAAM,oBAAoB;AAEvC,eAAe,SAASC,IAAIA,CAACC,KAAK,EAAE;EAChC,MAAMC,QAAQ,GAAGD,KAAK,CAACC,QAAQ;EAE/B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC;EACvC,MAAM,CAACS,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACW,GAAG,EAAEC,MAAM,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC;EACjC,MAAMa,MAAM,GAAGZ,MAAM,CAAC,IAAI,CAAC;EAE3BC,SAAS,CAAC,MAAI;IACV,IAAIY,QAAQ,GAAG,CAAC;IAEhB,IAAG,CAAC,CAACT,KAAK,CAACU,aAAa,EAAE;MACtBD,QAAQ,GAAGE,QAAQ,CAACX,KAAK,CAACU,aAAa,GAAG,CAAC,CAAC;MAC5CP,SAAS,CAACM,QAAQ,CAAC;MAEnBG,WAAW,CAACH,QAAQ,CAAC;IACzB;IAEAJ,QAAQ,CAAC,CAAC,GAAGG,MAAM,CAACK,OAAO,CAACZ,QAAQ,CAAC,CAACQ,QAAQ,CAAC,CAACK,WAAW,CAAC;EAChE,CAAC,EAAE,CAACd,KAAK,CAACU,aAAa,CAAC,CAAC;EAEzB,SAASK,WAAWA,CAACC,KAAK,EAAEC,CAAC,EAAE;IAC3BL,WAAW,CAACI,KAAK,CAAC;IAClBX,QAAQ,CAACY,CAAC,CAACC,MAAM,CAACJ,WAAW,CAAC;IAC9BX,SAAS,CAACa,KAAK,CAAC;EACpB;EAEA,SAASJ,WAAWA,CAACO,CAAC,EAAE;IACpB,MAAMC,QAAQ,GAAG,CAAC,GAAGZ,MAAM,CAACK,OAAO,CAACZ,QAAQ,CAAC,CAACoB,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,EAAEP,KAAK,KAAK;MACvE,OAAOA,KAAK,GAAGG,CAAC,GAAGG,GAAG,GAAGC,IAAI,CAACT,WAAW,GAAGQ,GAAG;IACnD,CAAC,EAAE,CAAC,CAAC;IACLf,MAAM,CAACa,QAAQ,CAAC;EACpB;EAEA,oBACI1B,KAAA,CAAA8B,aAAA;IAAKC,SAAS,EAAG,GAAE3B,MAAM,CAAC4B,IAAK,IAAG1B,KAAK,CAAC2B,IAAI,GAAG7B,MAAM,CAAC,aAAa,CAAC,GAAC,EAAG,EAAE;IAAA8B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACtEvC,KAAA,CAAA8B,aAAA;IAAKC,SAAS,EAAE3B,MAAM,CAAC,qBAAqB,CAAE;IAAA8B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1CvC,KAAA,CAAA8B,aAAA;IAAKC,SAAS,EAAE3B,MAAM,CAAC,eAAe,CAAE;IAACoC,GAAG,EAAE1B,MAAO;IAAAoB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAChDhC,QAAQ,CAACkC,GAAG,CAAC,CAACZ,IAAI,EAAEP,KAAK,kBACtBtB,KAAA,CAAA8B,aAAA;IAAKY,OAAO,EAAEnB,CAAC,IAAIF,WAAW,CAACC,KAAK,EAAEC,CAAC,CAAE;IAACQ,SAAS,EAAG,GAAE3B,MAAM,CAAC,qBAAqB,CAAE,IAAGkB,KAAK,KAAKd,MAAM,GAAGJ,MAAM,CAAC,4BAA4B,CAAC,GAAE,EAAG,EAAE;IAACuC,GAAG,EAAErB,KAAM;IAAAY,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC9JV,IAAI,CAACvB,KAAK,CAACsC,KAAK,CACf,CACT,CACC,EACL,CAACtC,KAAK,CAAC2B,IAAI,gBACZjC,KAAA,CAAA8B,aAAA;IAAMC,SAAS,EAAE3B,MAAM,CAAC,qBAAqB,CAAE;IAACyC,KAAK,EAAE;MAACnC,KAAK,EAAEA,KAAK;MAAEoC,SAAS,EAAG,cAAalC,GAAI;IAAI,CAAE;IAAAsB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAQ,GAAC,IAAI,CACpH,eACNvC,KAAA,CAAA8B,aAAA;IAAKC,SAAS,EAAE3B,MAAM,CAAC,cAAc,CAAE;IAAA8B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAClChC,QAAQ,CAACkC,GAAG,CAAC,CAACZ,IAAI,EAAEP,KAAK,kBACtBtB,KAAA,CAAA8B,aAAA;IAAKa,GAAG,EAAErB,KAAM;IAACS,SAAS,EAAG,GAAE3B,MAAM,CAAC,oBAAoB,CAAE,IAAGkB,KAAK,KAAKd,MAAM,GAAGJ,MAAM,CAAC,2BAA2B,CAAC,GAAC,EAAG,EAAE;IAAA8B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACtHV,IAAI,CAACvB,KAAK,CAACC,QAAQ,CAClB,CACT,CACC,CACJ;AAEd"},"metadata":{},"sourceType":"module"}