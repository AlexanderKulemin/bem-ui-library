{"ast":null,"code":"var _jsxFileName = \"/Users/alexkulemin/Documents/projects/bem-library/react-components/src/ui/components/Tabs/Tabs.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport cn from 'classnames';\nimport { useTheme } from '../../../template/hooks';\n\n// Tabs mode = v1 || v2 || v3\nconst Tabs = _ref => {\n  let {\n    children,\n    defaultActive,\n    direction = 'horizontal',\n    mod = 'v1',\n    ...props\n  } = _ref;\n  const styles = useTheme('Tabs');\n  const [active, setActive] = useState(0);\n  const [width, setWidth] = useState(0);\n  const [pos, setPos] = useState(0);\n  const tabsEl = useRef(null);\n  useEffect(() => {\n    let startPos = 0;\n    if (!!defaultActive) {\n      startPos = parseInt(defaultActive - 1);\n      setActive(startPos);\n      setPosition(startPos);\n    }\n    setWidth([...tabsEl.current.children][startPos].offsetWidth);\n  }, [defaultActive, styles]);\n  function handleClick(index, e) {\n    setPosition(index);\n    setWidth(e.target.offsetWidth);\n    setActive(index);\n  }\n  function setPosition(i) {\n    const position = [...tabsEl.current.children].reduce((acc, item, index) => {\n      return index < i ? acc + item.offsetWidth : acc;\n    }, 0);\n    setPos(position);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cn(styles['tabs'], direction && styles[`tabs_direction_${direction}`], mod && styles[`tabs_mod_${mod}`]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['tabs__header'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: styles['tabs__header-list'],\n    ref: tabsEl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, children.map((_ref2, index) => {\n    let {\n      props: {\n        title\n      }\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(\"li\", {\n      onClick: e => handleClick(index, e),\n      className: cn(styles['tabs__caption'], index === active && styles['tabs__caption_active']),\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, title);\n  })), direction === 'horizontal' && mod === 'v1' && /*#__PURE__*/React.createElement(\"span\", {\n    role: \"presentation\",\n    className: styles['tabs__active-line'],\n    style: {\n      width: width,\n      transform: `translateX(${pos}px)`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['tabs__body'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, children.map((_ref3, index) => {\n    let {\n      props: {\n        children\n      }\n    } = _ref3;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: cn(styles['tabs__body-item'], index === active && styles['tabs__body-item_active']),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    }, children);\n  })));\n};\nexport default Tabs;","map":{"version":3,"names":["React","useEffect","useRef","useState","cn","useTheme","Tabs","_ref","children","defaultActive","direction","mod","props","styles","active","setActive","width","setWidth","pos","setPos","tabsEl","startPos","parseInt","setPosition","current","offsetWidth","handleClick","index","e","target","i","position","reduce","acc","item","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","ref","map","_ref2","title","onClick","key","role","style","transform","_ref3"],"sources":["/Users/alexkulemin/Documents/projects/bem-library/react-components/src/ui/components/Tabs/Tabs.js"],"sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\nimport cn from 'classnames';\nimport {useTheme} from '../../../template/hooks';\n\n// Tabs mode = v1 || v2 || v3\nconst Tabs = ({children, defaultActive, direction = 'horizontal', mod = 'v1', ...props}) => {\n\n  const styles = useTheme('Tabs');\n  const [active, setActive] = useState(0);\n  const [width, setWidth] = useState(0);\n  const [pos, setPos] = useState(0);\n  const tabsEl = useRef(null);\n\n  useEffect(() => {\n    let startPos = 0;\n    if (!!defaultActive) {\n      startPos = parseInt(defaultActive - 1);\n      setActive(startPos);\n      setPosition(startPos)\n    }\n    setWidth([...tabsEl.current.children][startPos].offsetWidth)\n  }, [defaultActive, styles]);\n\n  function handleClick(index, e) {\n    setPosition(index);\n    setWidth(e.target.offsetWidth);\n    setActive(index);\n  }\n\n  function setPosition(i) {\n    const position = [...tabsEl.current.children].reduce((acc, item, index) => {\n      return index < i ? acc + item.offsetWidth : acc;\n    }, 0);\n    setPos(position)\n  }\n\n  return (\n      <div\n          className={cn(\n              styles['tabs'],\n              direction && styles[`tabs_direction_${direction}`],\n              mod && styles[`tabs_mod_${mod}`]\n          )}>\n        <div className={styles['tabs__header']}>\n          <ul className={styles['tabs__header-list']} ref={tabsEl}>\n            {children.map(({props: {title}}, index) =>\n                <li onClick={e => handleClick(index, e)}\n                    className={cn(\n                        styles['tabs__caption'],\n                        index === active && styles['tabs__caption_active']\n                    )}\n                    key={index}>\n                  {title}\n                </li>\n            )}\n          </ul>\n          {(direction === 'horizontal' && mod === 'v1') &&\n          <span\n              role=\"presentation\"\n              className={styles['tabs__active-line']}\n              style={{width: width, transform: `translateX(${pos}px)`}}></span>}\n        </div>\n\n        <div className={styles['tabs__body']}>\n          {children.map(({props: {children}}, index) =>\n              <div key={index}\n                   className={cn(\n                       styles['tabs__body-item'],\n                       index === active && styles['tabs__body-item_active']\n                   )}>\n                {children}\n              </div>\n          )}\n        </div>\n      </div>\n  )\n};\n\nexport default Tabs;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}