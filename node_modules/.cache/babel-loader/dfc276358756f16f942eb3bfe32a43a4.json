{"ast":null,"code":"var _jsxFileName = \"/Users/alexkulemin/Documents/projects/bem-library/react-components/src/ui/components/AutoComplete/index.js\";\nimport React, { useState } from 'react';\nimport styles from './AutoComplete.module.scss';\nexport const AutoComplete = props => {\n  const [show, setShow] = useState(false);\n  const [value, setValue] = useState('');\n  const [filtered, setFiltered] = useState([]);\n  const [initialColl, setInit] = useState([]);\n  const getData = () => {\n    setInit([...props.data]);\n    setShow(true);\n    if (!!value) {\n      setFiltered(initialColl.filter(item => item.indexOf(value) !== -1));\n    }\n  };\n  const search = e => {\n    setValue(e.target.value);\n    setFiltered(initialColl.filter(item => item.indexOf(e.target.value) !== -1));\n  };\n  const getHightLightTitle = title => {\n    const position = title.indexOf(value);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, title.slice(0, position), /*#__PURE__*/React.createElement(\"mark\", {\n      className: styles[\"autocomplete__mark\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }\n    }, title.slice(position, position + value.length)), title.slice(position + value.length));\n  };\n  const chooseValue = e => {\n    const elm = e.target.className === styles['autocomplete__mark'] ? e.target.parentNode : e.target;\n    setValue(elm.textContent);\n    const clear = setTimeout(_ => {\n      clearInterval(clear);\n      setFiltered([]);\n    }, 400);\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${styles['form-control']} ${show ? styles['show'] : ''}  ${value ? styles['form-control_active'] : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['form-control__wrap'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: styles[\"form-control__input\"],\n    value: value,\n    onFocus: getData,\n    onChange: search,\n    onBlur: _ => setShow(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: styles[\"form-control__label\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, props.label), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles[\"form-control__line\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: `${styles[\"form-control__icon\"]} icon-down show`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"aside\", {\n    className: styles[\"autocomplete__box\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: styles[\"autocomplete\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, filtered.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    className: styles[\"autocomplete__item\"],\n    key: Math.random(),\n    onMouseDown: chooseValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  }, getHightLightTitle(item)))))));\n};","map":{"version":3,"names":["React","useState","styles","AutoComplete","props","show","setShow","value","setValue","filtered","setFiltered","initialColl","setInit","getData","data","filter","item","indexOf","search","e","target","getHightLightTitle","title","position","createElement","Fragment","slice","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","length","chooseValue","elm","parentNode","textContent","clear","setTimeout","_","clearInterval","type","onFocus","onChange","onBlur","label","map","key","Math","random","onMouseDown"],"sources":["/Users/alexkulemin/Documents/projects/bem-library/react-components/src/ui/components/AutoComplete/index.js"],"sourcesContent":["import React, {useState} from 'react';\nimport styles from './AutoComplete.module.scss';\n\nexport const AutoComplete = (props) => {\n    const [show, setShow] = useState(false);\n    const [value, setValue] = useState('');\n    const [filtered, setFiltered] = useState([]);\n    const [initialColl, setInit] = useState([]);\n\n    const getData = () => {\n        setInit([...props.data])\n        setShow(true);\n\n        if(!!value) {\n            setFiltered(initialColl.filter(item => item.indexOf(value) !== -1 ));\n        }\n    }\n    \n    const search = (e) => {\n        setValue(e.target.value);\n        setFiltered(initialColl.filter(item => item.indexOf(e.target.value) !== -1 ));\n    }\n\n    const getHightLightTitle = (title) => {\n        const position = title.indexOf(value);\n        \n        return(\n            <>\n                {title.slice(0, position)}\n                <mark className={styles[\"autocomplete__mark\"]}>\n                    {title.slice(position, position + value.length)}\n                </mark>\n                {title.slice(position + value.length)}\n            </>\n        )\n    }\n\n    const chooseValue = (e) => {\n        \n        const elm = e.target.className === styles['autocomplete__mark'] ? e.target.parentNode : e.target;\n\n        setValue(elm.textContent);\n        \n        const clear = setTimeout(_ => {\n            clearInterval(clear)\n            setFiltered([]);\n        }, 400)\n    }\n\n    return(\n        <>\n        <div className={`${styles['form-control']} ${show ? styles['show']:''}  ${value ? styles['form-control_active']:''}`}>\n            <div className={styles['form-control__wrap']}>\n                <input \n                    type=\"text\" \n                    className={styles[\"form-control__input\"]} \n                    value={value} \n                    onFocus={getData}\n                    onChange={search} \n                    onBlur={_ => setShow(false)}\n                />\n                <label className={styles[\"form-control__label\"]}>\n                    {props.label}\n                </label>\n                <span className={styles[\"form-control__line\"]}></span>\n                <i className={`${styles[\"form-control__icon\"]} icon-down show`}></i>\n            </div>\n\n            <aside className={styles[\"autocomplete__box\"]} >\n                <ul className={styles[\"autocomplete\"]}>\n                    {filtered.map((item) =>(\n                        <li className={styles[\"autocomplete__item\"]} \n                            key={Math.random()}\n                            onMouseDown={chooseValue}\n                        >\n                            {getHightLightTitle(item)}\n                        </li>\n                    ))}\n                </ul>\n            </aside>\n        </div>\n        </>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}